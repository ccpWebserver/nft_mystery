(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[531],{2603:function(K,B,a){"use strict";a.d(B,{Z:function(){return O}});var C=a(28991),D=a(67294),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},U=A,T=a(27029),v=function(W,I){return D.createElement(T.Z,(0,C.Z)((0,C.Z)({},W),{},{ref:I,icon:U}))};v.displayName="LockOutlined";var O=D.forwardRef(v)},64302:function(K,B,a){"use strict";a.d(B,{Z:function(){return O}});var C=a(28991),D=a(67294),A={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},U=A,T=a(27029),v=function(W,I){return D.createElement(T.Z,(0,C.Z)((0,C.Z)({},W),{},{ref:I,icon:U}))};v.displayName="MailOutlined";var O=D.forwardRef(v)},16434:function(K,B,a){"use strict";var C=a(9715),D=a(41003),A=a(57663),U=a(71577),T=a(47673),v=a(1011),O=a(67294),Z=a(64893),W=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"];function I(){return I=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s])}return e},I.apply(this,arguments)}function _(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);n&&(s=s.filter(function(d){return Object.getOwnPropertyDescriptor(e,d).enumerable})),t.push.apply(t,s)}return t}function F(e){for(var n=1;n<arguments.length;n++){var t=arguments[n]!=null?arguments[n]:{};n%2?_(Object(t),!0).forEach(function(s){N(e,s,t[s])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(s){Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(t,s))})}return e}function N(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function w(e,n,t,s,d,g,S){try{var j=e[g](S),r=j.value}catch($){t($);return}j.done?n(r):Promise.resolve(r).then(s,d)}function k(e){return function(){var n=this,t=arguments;return new Promise(function(s,d){var g=e.apply(n,t);function S(r){w(g,s,d,S,j,"next",r)}function j(r){w(g,s,d,S,j,"throw",r)}S(void 0)})}}function M(e,n){if(e==null)return{};var t=Y(e,n),s,d;if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(e);for(d=0;d<g.length;d++)s=g[d],!(n.indexOf(s)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,s)||(t[s]=e[s]))}return t}function Y(e,n){if(e==null)return{};var t={},s=Object.keys(e),d,g;for(g=0;g<s.length;g++)d=s[g],!(n.indexOf(d)>=0)&&(t[d]=e[d]);return t}function x(e,n){return ae(e)||re(e,n)||J(e,n)||ee()}function ee(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function J(e,n){if(!!e){if(typeof e=="string")return Q(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Q(e,n)}}function Q(e,n){(n==null||n>e.length)&&(n=e.length);for(var t=0,s=new Array(n);t<n;t++)s[t]=e[t];return s}function re(e,n){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var s=[],d=!0,g=!1,S,j;try{for(t=t.call(e);!(d=(S=t.next()).done)&&(s.push(S.value),!(n&&s.length===n));d=!0);}catch(r){g=!0,j=r}finally{try{!d&&t.return!=null&&t.return()}finally{if(g)throw j}}return s}}function ae(e){if(Array.isArray(e))return e}var X=O.forwardRef(function(e,n){var t=(0,O.useState)(e.countDown||60),s=x(t,2),d=s[0],g=s[1],S=(0,O.useState)(!1),j=x(S,2),r=j[0],$=j[1],te=(0,O.useState)(),q=x(te,2),ne=q[0],V=q[1],ie=e.rules,le=e.name,G=e.phoneName,R=e.fieldProps,E=e.captchaTextRender,m=E===void 0?function(h,y){return h?"".concat(y," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:E,L=e.captchaProps,b=M(e,W),z=function(){var h=k(regeneratorRuntime.mark(function y(c){return regeneratorRuntime.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,V(!0),i.next=4,b.onGetCaptcha(c);case 4:V(!1),$(!0),i.next=13;break;case 8:i.prev=8,i.t0=i.catch(0),$(!1),V(!1),console.log(i.t0);case 13:case"end":return i.stop()}},y,null,[[0,8]])}));return function(c){return h.apply(this,arguments)}}();return(0,O.useEffect)(function(){var h=0,y=e.countDown;return r&&(h=window.setInterval(function(){g(function(c){return c<=1?($(!1),clearInterval(h),y||60):c-1})},1e3)),function(){return clearInterval(h)}},[r]),O.createElement(D.Z.Item,{noStyle:!0,shouldUpdate:!0},function(h){var y=h.getFieldValue,c=h.validateFields;return O.createElement("div",{style:F(F({},R==null?void 0:R.style),{},{display:"flex",alignItems:"center"}),ref:n},O.createElement(v.Z,I({},R,{style:{flex:1,transition:"width .3s",marginRight:8}})),O.createElement(U.Z,I({style:{display:"block"},disabled:r,loading:ne},L,{onClick:k(regeneratorRuntime.mark(function u(){var i;return regeneratorRuntime.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(l.prev=0,!G){l.next=9;break}return l.next=4,c([G].flat(1));case 4:return i=y([G].flat(1)),l.next=7,z(i);case 7:l.next=11;break;case 9:return l.next=11,z("");case 11:l.next=16;break;case 13:l.prev=13,l.t0=l.catch(0),console.log(l.t0);case 16:case"end":return l.stop()}},u,null,[[0,13]])}))}),m(r,d)))})});B.Z=(0,Z.Z)(X)},34687:function(K){K.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",tap:"tap___I2PW7",icon:"icon___rzGKO"}},49302:function(K,B,a){"use strict";a.r(B),a.d(B,{default:function(){return G}});var C=a(20310),D=a(18106),A=a(19552),U=a(2824),T=a(67294),v=a(43581),O=a(34687),Z=a.n(O),W=a(57663),I=a(71577),_=a(34792),F=a(55026),N=a(8870),w=a(3182),k=a(94043),M=a.n(k),Y=a(5550),x=a(37456),ee=a(16434),J=a(28991),Q={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M744 62H280c-35.3 0-64 28.7-64 64v768c0 35.3 28.7 64 64 64h464c35.3 0 64-28.7 64-64V126c0-35.3-28.7-64-64-64zm-8 824H288V134h448v752zM472 784a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"mobile",theme:"outlined"},re=Q,ae=a(27029),X=function(E,m){return T.createElement(ae.Z,(0,J.Z)((0,J.Z)({},E),{},{ref:m,icon:re}))};X.displayName="MobileOutlined";var e=T.forwardRef(X),n=a(64302),t=a(2603),s=a(93874),d=a(88793),g=a(9684),S=a(53776),j=a(78489),r=a(85893),$=function(){var E=(0,j.D)("fr"),m=(0,v.YB)(),L=(0,S.t)("@@initialState"),b=L.initialState,z=L.setInitialState,h=function(){var c=(0,w.Z)(M().mark(function u(){var i,f;return M().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.next=2,b==null||(i=b.fetchUserInfo)===null||i===void 0?void 0:i.call(b);case 2:if(f=o.sent,!f){o.next=6;break}return o.next=6,z(function(H){return(0,N.Z)((0,N.Z)({},H),{},{currentUser:f})});case 6:case"end":return o.stop()}},u)}));return function(){return c.apply(this,arguments)}}(),y=function(){var c=(0,w.Z)(M().mark(function u(i){var f,l,o,H;return M().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.prev=0,p.next=3,s.w.register(i.mobile,i.password,i.captcha,E);case 3:return f=p.sent,f=f.data,localStorage.setItem(d.o,f.token),F.default.success(f.info),p.next=9,h();case 9:if(g.m){p.next=11;break}return p.abrupt("return");case 11:l=g.m.location.query,o=l,H=o.redirect,g.m.push(H||"/"),p.next=20;break;case 16:p.prev=16,p.t0=p.catch(0),console.log(p.t0),F.default.error(p.t0.info);case 20:case"end":return p.stop()}},u,null,[[0,16]])}));return function(i){return c.apply(this,arguments)}}();return(0,r.jsxs)(Y.Z,{initialValues:{autoLogin:!0},submitter:{render:function(u,i){return[(0,r.jsx)(I.Z,{block:!0,type:"primary",onClick:u.submit,children:(0,r.jsx)(v._H,{id:"pages.login.registerAccount"})})]}},onFinish:function(){var c=(0,w.Z)(M().mark(function u(i){return M().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(console.log(i),i.password==i.repeated){l.next=4;break}return F.default.error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u81F4"),l.abrupt("return");case 4:return l.next=6,y(i);case 6:case"end":return l.stop()}},u)}));return function(u){return c.apply(this,arguments)}}(),children:[(0,r.jsx)(x.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(e,{className:Z().prefixIcon})},name:"mobile",placeholder:m.formatMessage({id:"pages.register.username"}),rules:[{required:!0,message:(0,r.jsx)(v._H,{id:"pages.register.username"})}]}),(0,r.jsx)(ee.Z,{fieldProps:{size:"large",prefix:(0,r.jsx)(n.Z,{className:Z().prefixIcon})},captchaProps:{size:"large"},placeholder:m.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(u,i){return u?"".concat(i," ").concat(m.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):m.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},phoneName:"mobile",name:"captcha",rules:[{required:!0,message:(0,r.jsx)(v._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var c=(0,w.Z)(M().mark(function u(i){var f;return M().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.prev=0,o.next=3,s.w.sendSms(i);case 3:if(f=o.sent,f!==!1){o.next=6;break}return o.abrupt("return");case 6:F.default.success(f.info),o.next=12;break;case 9:o.prev=9,o.t0=o.catch(0),F.default.error(o.t0.info);case 12:case"end":return o.stop()}},u,null,[[0,9]])}));return function(u){return c.apply(this,arguments)}}()}),(0,r.jsx)(x.Z.Password,{fieldProps:{size:"large",prefix:(0,r.jsx)(t.Z,{className:Z().prefixIcon})},name:"password",placeholder:m.formatMessage({id:"pages.register.password",defaultMessage:"\u8BBE\u7F6E\u5BC6\u7801"}),rules:[{required:!0,message:(0,r.jsx)(v._H,{id:"pages.register.password",defaultMessage:"\u8BF7\u8F93\u8BBE\u7F6E\u5BC6\u7801\uFF01"})},{pattern:/^(?![0-9]+\$)(?![a-zA-Z]+\$)[0-9A-Za-z\\W]{6,18}$/,message:(0,r.jsx)(v._H,{id:"pages.register.password.invalid",defaultMessage:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF01"})}]}),(0,r.jsx)(x.Z.Password,{fieldProps:{size:"large",prefix:(0,r.jsx)(t.Z,{className:Z().prefixIcon})},name:"repeated",placeholder:m.formatMessage({id:"pages.register.password",defaultMessage:"\u8BBE\u7F6E\u5BC6\u7801"}),rules:[{required:!0,message:(0,r.jsx)(v._H,{id:"pages.register.password",defaultMessage:"\u8BF7\u8F93\u8BBE\u7F6E\u5BC6\u7801\uFF01"})},{pattern:/^(?![0-9]+\$)(?![a-zA-Z]+\$)[0-9A-Za-z\\W]{6,18}$/,message:(0,r.jsx)(v._H,{id:"pages.register.password.invalid",defaultMessage:"\u5BC6\u7801\u683C\u5F0F\u9519\u8BEF\uFF01"})}]})]})},te=a(89366),q=function(){var E=(0,S.t)("@@initialState"),m=E.initialState,L=E.setInitialState,b=(0,v.YB)(),z=function(){var y=(0,w.Z)(M().mark(function c(){var u,i;return M().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,m==null||(u=m.fetchUserInfo)===null||u===void 0?void 0:u.call(m);case 2:if(i=l.sent,!i){l.next=6;break}return l.next=6,L(function(o){return(0,N.Z)((0,N.Z)({},o),{},{currentUser:i})});case 6:case"end":return l.stop()}},c)}));return function(){return y.apply(this,arguments)}}(),h=function(){var y=(0,w.Z)(M().mark(function c(u){var i,f,l,o,H,se,p,ue;return M().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.prev=0,P.next=3,s.w.login((i=u.username)!==null&&i!==void 0?i:"",(f=u.password)!==null&&f!==void 0?f:"");case 3:return l=P.sent,l=l.data,o=b.formatMessage({id:"pages.login.success",defaultMessage:"\u767B\u5F55\u6210\u529F\uFF01"}),localStorage.setItem(d.o,l.token),F.default.success(o),P.next=10,z();case 10:if(g.m){P.next=12;break}return P.abrupt("return");case 12:H=g.m.location.query,se=H,p=se.redirect,g.m.push(p||"/"),P.next=22;break;case 17:P.prev=17,P.t0=P.catch(0),console.log(P.t0),ue=b.formatMessage({id:"pages.login.failure",defaultMessage:"\u767B\u5F55\u5931\u8D25\uFF0C\u8BF7\u91CD\u8BD5\uFF01"}),F.default.error(ue);case 22:case"end":return P.stop()}},c,null,[[0,17]])}));return function(u){return y.apply(this,arguments)}}();return(0,r.jsxs)(Y.Z,{initialValues:{autoLogin:!0},onFinish:function(){var y=(0,w.Z)(M().mark(function c(u){return M().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,h(u);case 2:case"end":return f.stop()}},c)}));return function(c){return y.apply(this,arguments)}}(),submitter:{render:function(c,u){return[(0,r.jsx)(I.Z,{block:!0,type:"primary",onClick:c.submit,children:(0,r.jsx)(v._H,{id:"pages.login.submit"})})]}},children:[(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(x.Z,{name:"username",fieldProps:{size:"large",prefix:(0,r.jsx)(te.Z,{className:Z().prefixIcon})},placeholder:b.formatMessage({id:"pages.login.username.required",defaultMessage:"\u7528\u6237\u540D"}),rules:[{required:!0,message:(0,r.jsx)(v._H,{id:"pages.login.username.required",defaultMessage:"\u8BF7\u8F93\u5165\u7528\u6237\u540D!"})}]}),(0,r.jsx)(x.Z.Password,{name:"password",fieldProps:{size:"large",prefix:(0,r.jsx)(t.Z,{className:Z().prefixIcon})},placeholder:b.formatMessage({id:"pages.login.password.required",defaultMessage:"\u5BC6\u7801"}),rules:[{required:!0,message:(0,r.jsx)(v._H,{id:"pages.login.password.required",defaultMessage:"\u8BF7\u8F93\u5165\u5BC6\u7801\uFF01"})}]})]}),(0,r.jsx)("div",{style:{marginBottom:24},children:(0,r.jsx)("a",{style:{display:"block",textAlign:"end"}})})]})},ne=a(47416),V,ie=function(){var E=(0,j.D)("path"),m=(0,T.useState)(E||"account"),L=(0,U.Z)(m,2),b=L[0],z=L[1],h=(0,v.YB)();return(0,r.jsxs)("div",{className:Z().container,children:[(0,r.jsx)("div",{className:Z().lang,"data-lang":!0,children:v.pD&&(0,r.jsx)(v.pD,{})}),(0,r.jsxs)("div",{className:Z().content,children:[(0,r.jsx)(le,{children:(0,r.jsxs)(A.Z,{activeKey:b,onChange:z,children:[(0,r.jsx)(A.Z.TabPane,{tab:h.formatMessage({id:"pages.login.accountLogin.tab",defaultMessage:"\u8D26\u6237\u5BC6\u7801\u767B\u5F55"})},"account"),(0,r.jsx)(A.Z.TabPane,{tab:h.formatMessage({id:"pages.login.registerAccount"})},"mobile")]})}),b==="account"&&(0,r.jsx)(q,{}),b==="mobile"&&(0,r.jsx)($,{})]})]})},le=ne.ZP.div(V||(V=(0,C.Z)([`
  display: block;
  margin: 0 auto;
  text-align: center;

  > div {
    display: inline-block;
  }

  .ant-tabs-nav {
    margin: 0 auto;
  }

  .ant-tabs-nav-wrap {
    display: none;
  }
`]))),G=ie}}]);
