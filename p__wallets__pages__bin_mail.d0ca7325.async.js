(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[597],{64302:function(N,D,r){"use strict";r.d(D,{Z:function(){return u}});var R=r(28991),S=r(67294),y={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},A=y,j=r(27029),c=function(w,O){return S.createElement(j.Z,(0,R.Z)((0,R.Z)({},w),{},{ref:O,icon:A}))};c.displayName="MailOutlined";var u=S.forwardRef(c)},16434:function(N,D,r){"use strict";var R=r(9715),S=r(41003),y=r(57663),A=r(71577),j=r(47673),c=r(1011),u=r(67294),F=r(64893),w=["rules","name","phoneName","fieldProps","captchaTextRender","captchaProps"];function O(){return O=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e},O.apply(this,arguments)}function _(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter(function(l){return Object.getOwnPropertyDescriptor(e,l).enumerable})),t.push.apply(t,n)}return t}function Z(e){for(var a=1;a<arguments.length;a++){var t=arguments[a]!=null?arguments[a]:{};a%2?_(Object(t),!0).forEach(function(n){V(e,n,t[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):_(Object(t)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))})}return e}function V(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function L(e,a,t,n,l,i,m){try{var o=e[i](m),d=o.value}catch(G){t(G);return}o.done?a(d):Promise.resolve(d).then(n,l)}function B(e){return function(){var a=this,t=arguments;return new Promise(function(n,l){var i=e.apply(a,t);function m(d){L(i,n,l,m,o,"next",d)}function o(d){L(i,n,l,m,o,"throw",d)}m(void 0)})}}function U(e,a){if(e==null)return{};var t=x(e,a),n,l;if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(l=0;l<i.length;l++)n=i[l],!(a.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,n)||(t[n]=e[n]))}return t}function x(e,a){if(e==null)return{};var t={},n=Object.keys(e),l,i;for(i=0;i<n.length;i++)l=n[i],!(a.indexOf(l)>=0)&&(t[l]=e[l]);return t}function W(e,a){return f(e)||Y(e,a)||I(e,a)||C()}function C(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function I(e,a){if(!!e){if(typeof e=="string")return K(e,a);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K(e,a)}}function K(e,a){(a==null||a>e.length)&&(a=e.length);for(var t=0,n=new Array(a);t<a;t++)n[t]=e[t];return n}function Y(e,a){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var n=[],l=!0,i=!1,m,o;try{for(t=t.call(e);!(l=(m=t.next()).done)&&(n.push(m.value),!(a&&n.length===a));l=!0);}catch(d){i=!0,o=d}finally{try{!l&&t.return!=null&&t.return()}finally{if(i)throw o}}return n}}function f(e){if(Array.isArray(e))return e}var $=u.forwardRef(function(e,a){var t=(0,u.useState)(e.countDown||60),n=W(t,2),l=n[0],i=n[1],m=(0,u.useState)(!1),o=W(m,2),d=o[0],G=o[1],H=(0,u.useState)(),J=W(H,2),Q=J[0],P=J[1],p=e.rules,E=e.name,g=e.phoneName,M=e.fieldProps,s=e.captchaTextRender,q=s===void 0?function(b,T){return b?"".concat(T," \u79D2\u540E\u91CD\u65B0\u83B7\u53D6"):"\u83B7\u53D6\u9A8C\u8BC1\u7801"}:s,ee=e.captchaProps,te=U(e,w),X=function(){var b=B(regeneratorRuntime.mark(function T(z){return regeneratorRuntime.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.prev=0,P(!0),h.next=4,te.onGetCaptcha(z);case 4:P(!1),G(!0),h.next=13;break;case 8:h.prev=8,h.t0=h.catch(0),G(!1),P(!1),console.log(h.t0);case 13:case"end":return h.stop()}},T,null,[[0,8]])}));return function(z){return b.apply(this,arguments)}}();return(0,u.useEffect)(function(){var b=0,T=e.countDown;return d&&(b=window.setInterval(function(){i(function(z){return z<=1?(G(!1),clearInterval(b),T||60):z-1})},1e3)),function(){return clearInterval(b)}},[d]),u.createElement(S.Z.Item,{noStyle:!0,shouldUpdate:!0},function(b){var T=b.getFieldValue,z=b.validateFields;return u.createElement("div",{style:Z(Z({},M==null?void 0:M.style),{},{display:"flex",alignItems:"center"}),ref:a},u.createElement(c.Z,O({},M,{style:{flex:1,transition:"width .3s",marginRight:8}})),u.createElement(A.Z,O({style:{display:"block"},disabled:d,loading:Q},ee,{onClick:B(regeneratorRuntime.mark(function k(){var h;return regeneratorRuntime.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:if(v.prev=0,!g){v.next=9;break}return v.next=4,z([g].flat(1));case 4:return h=T([g].flat(1)),v.next=7,X(h);case 7:v.next=11;break;case 9:return v.next=11,X("");case 11:v.next=16;break;case 13:v.prev=13,v.t0=v.catch(0),console.log(v.t0);case 16:case"end":return v.stop()}},k,null,[[0,13]])}))}),q(d,l)))})});D.Z=(0,F.Z)($)},34687:function(N){N.exports={container:"container___1sYa-",lang:"lang___l6cji",content:"content___2zk1-",tap:"tap___I2PW7",icon:"icon___rzGKO"}},31510:function(N,D,r){"use strict";r.r(D),r.d(D,{default:function(){return a}});var R=r(57663),S=r(71577),y=r(39428),A=r(34792),j=r(55026),c=r(3182),u=r(99861),F=r(73322),w=r(16434),O=r(28991),_=r(67294),Z={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M879.5 470.4c-.3-27-.4-54.2-.5-81.3h-80.8c-.3 27-.5 54.1-.7 81.3-27.2.1-54.2.3-81.2.6v80.9c27 .3 54.2.5 81.2.8.3 27 .3 54.1.5 81.1h80.9c.1-27 .3-54.1.5-81.3 27.2-.3 54.2-.4 81.2-.7v-80.9c-26.9-.2-54.1-.2-81.1-.5zm-530 .4c-.1 32.3 0 64.7.1 97 54.2 1.8 108.5 1 162.7 1.8-23.9 120.3-187.4 159.3-273.9 80.7-89-68.9-84.8-220 7.7-284 64.7-51.6 156.6-38.9 221.3 5.8 25.4-23.5 49.2-48.7 72.1-74.7-53.8-42.9-119.8-73.5-190-70.3-146.6-4.9-281.3 123.5-283.7 270.2-9.4 119.9 69.4 237.4 180.6 279.8 110.8 42.7 252.9 13.6 323.7-86 46.7-62.9 56.8-143.9 51.3-220-90.7-.7-181.3-.6-271.9-.3z"}}]},name:"google-plus",theme:"outlined"},V=Z,L=r(27029),B=function(n,l){return _.createElement(L.Z,(0,O.Z)((0,O.Z)({},n),{},{ref:l,icon:V}))};B.displayName="GooglePlusOutlined";var U=_.forwardRef(B),x=r(64302),W=r(34687),C=r.n(W),I=r(93874),K=r(53776),Y=r(67329),f=r(83832),$=r(10908),e=r(85893),a=function(){var t,n,l,i=(0,$.YB)(),m=(0,K.t)("@@initialState"),o=m.initialState,d=m.setInitialState,G=function(){var P=(0,c.Z)((0,y.Z)().mark(function p(E){var g;return(0,y.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,I.w.setEmail(E.mail,E.captcha);case 3:g=s.sent,g=g.data,j.default.success(g.info),s.next=12;break;case 8:s.prev=8,s.t0=s.catch(0),console.log(s.t0),j.default.error(s.t0.info);case 12:case"end":return s.stop()}},p,null,[[0,8]])}));return function(E){return P.apply(this,arguments)}}(),H=(0,Y.f)(G),J=H.request,Q=H.status;return(0,e.jsxs)(u.Z,{initialValues:{autoLogin:!0},submitter:{render:function(p,E){return Q==Y.o.wait?(0,e.jsx)(f.Z,{}):[(0,e.jsx)(S.Z,{block:!0,type:"primary",onClick:p.submit,children:(0,e.jsx)($._H,{id:"menu.MyAccount.setmail"})})]}},onFinish:function(){var P=(0,c.Z)((0,y.Z)().mark(function p(E){return(0,y.Z)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,J(E);case 2:case"end":return M.stop()}},p)}));return function(p){return P.apply(this,arguments)}}(),children:[(0,e.jsx)(F.Z,{fieldProps:{size:"large",prefix:(0,e.jsx)(U,{className:C().prefixIcon})},placeholder:(o==null||(t=o.currentUser)===null||t===void 0?void 0:t.email)==""?i.formatMessage({id:"pages.register.username"}):o==null||(n=o.currentUser)===null||n===void 0?void 0:n.email,name:"mail",initialValue:o==null||(l=o.currentUser)===null||l===void 0?void 0:l.email,rules:[{required:!0,pattern:/^[A-Za-z\d]+([-_.][A-Za-z\d]+)*@([A-Za-z\d]+[-.])+[A-Za-z\d]{2,4}$/,message:(0,e.jsx)($._H,{id:"pages.register.username"})}]}),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{style:{height:"10px"}}),(0,e.jsx)(w.Z,{fieldProps:{size:"large",prefix:(0,e.jsx)(x.Z,{className:C().prefixIcon})},captchaProps:{size:"large"},placeholder:i.formatMessage({id:"pages.login.captcha.placeholder",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"}),captchaTextRender:function(p,E){return p?"".concat(E," ").concat(i.formatMessage({id:"pages.getCaptchaSecondText",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})):i.formatMessage({id:"pages.login.phoneLogin.getVerificationCode",defaultMessage:"\u83B7\u53D6\u9A8C\u8BC1\u7801"})},phoneName:"mail",name:"captcha",rules:[{required:!0,message:(0,e.jsx)($._H,{id:"pages.login.captcha.required",defaultMessage:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801\uFF01"})}],onGetCaptcha:function(){var P=(0,c.Z)((0,y.Z)().mark(function p(E){var g;return(0,y.Z)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,I.w.sendSms(E,"setemail");case 3:if(g=s.sent,g!==!1){s.next=6;break}return s.abrupt("return");case 6:j.default.success(g.info),s.next=12;break;case 9:s.prev=9,s.t0=s.catch(0),j.default.error(s.t0.info);case 12:case"end":return s.stop()}},p,null,[[0,9]])}));return function(p){return P.apply(this,arguments)}}()})]})]})}},67329:function(N,D,r){"use strict";r.d(D,{f:function(){return j},o:function(){return c}});var R=r(39428),S=r(3182),y=r(2824),A=r(67294),j=function(F){var w=(0,A.useState)(c.start),O=(0,y.Z)(w,2),_=O[0],Z=O[1],V=(0,A.useState)(),L=(0,y.Z)(V,2),B=L[0],U=L[1],x=(0,A.useCallback)((0,S.Z)((0,R.Z)().mark(function W(){var C,I,K=arguments;return(0,R.Z)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.prev=0,Z(c.wait),f.next=4,F.apply(void 0,K);case 4:return C=f.sent,U(C),Z(c.success),f.abrupt("return",C);case 10:return f.prev=10,f.t0=f.catch(0),I={err:f.t0.info},U(I),Z(c.failure),f.abrupt("return",I);case 16:case"end":return f.stop()}},W,null,[[0,10]])})),[Z,U]);return{status:_,request:x,data:B}},c;(function(u){u[u.start=0]="start",u[u.wait=1]="wait",u[u.success=2]="success",u[u.failure=3]="failure"})(c||(c={}))}}]);
